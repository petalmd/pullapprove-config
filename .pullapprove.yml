version: 3
pullapprove_conditions:
- "'WIP' not in title"
- "base.ref == 'master'"
- "'hotfix' not in labels"

groups:
  prodteam:
    conditions:
    - >
      '*.yml' in files.exclude("*/locales/*") or
      'Jenkinsfile' in files or
      '*Docker*' in files or
      '*docker*' in files
    reviewers:
      teams:
      - team-production
    reviews:
      required: 1
      request: 0
      author_value: 1

  leads:
    reviewers:
      teams:
      - leads
    reviews:
      required: 1
      request: 0
      author_value: 1

  developers:
    reviewers:
      teams:
      - developers
      - leads
    reviews:
      required: 1
      request: 0

  libraries-be:
    conditions:
    - "'Gemfile*' in files"
    reviewers:
      teams:
      - libraries-be
      - team-production
    reviews:
      required: 1
      request: 0
  libraries-fe:
    conditions:
    - "'package.json' in files or 'tsconfig.json' in files"
    reviewers:
      teams:
      - libraries-fe
      - team-production
    reviews:
      required: 1
      request: 0
